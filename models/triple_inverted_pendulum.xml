<mujoco model="triple_inverted_pendulum">
  <compiler angle="radian" coordinate="local" inertiafromgeom="true"/>
  <option timestep="0.01" gravity="0 0 -9.81" integrator="RK4"/>
  <visual>
    <global offwidth="1280" offheight="960"/>
  </visual>

  <default>
    <geom friction="0.0 0.0 0.0" density="300" contype="0" conaffinity="0"/>
    <default class="slider_joint">
      <joint damping="0.08" armature="0.01" frictionloss="0.01"/>
    </default>
    <default class="hinge_joint">
      <joint damping="0.28" armature="0.02" frictionloss="0.03"/>
    </default>
  </default>

  <worldbody>
    <light diffuse="0.95 0.95 0.95" pos="0 -4 5" dir="0 1 -1"/>
    <geom name="bg" type="plane" pos="0 0 -1.5" size="12 12 0.1" rgba="0.98 0.98 0.98 1"/>
    <geom name="rail" type="box" pos="0 0 0.22" size="5.1 0.006 0.006" rgba="0.2 0.2 0.2 1" mass="0.001"/>
    <geom name="rail_post_l" type="capsule" fromto="-5.0 0 -1.5 -5.0 0 0.22" size="0.01" rgba="0.45 0.45 0.45 1" mass="0.001"/>
    <geom name="rail_post_r" type="capsule" fromto="5.0 0 -1.5 5.0 0 0.22" size="0.01" rgba="0.45 0.45 0.45 1" mass="0.001"/>
    <camera name="side_2d" pos="0 -10.0 -0.05" xyaxes="1 0 0 0 0 1" fovy="32"/>

    <body name="cart" pos="0 0 0.22">
      <joint name="slider" class="slider_joint" type="slide" axis="1 0 0" range="-5.0 5.0"/>
      <geom name="cart_geom" type="box" size="0.18 0.025 0.06" rgba="0.2 0.4 0.7 1" mass="2.0"/>

      <body name="link1" pos="0 0 0.06">
        <joint name="hinge1" class="hinge_joint" type="hinge" axis="0 1 0" range="-3.1416 3.1416"/>
        <geom name="link1_geom" type="capsule" fromto="0 0 0 0 0 -0.55" size="0.009" rgba="0.85 0.2 0.2 1" mass="1.0"/>

        <body name="link2" pos="0 0 -0.55">
          <joint
            name="hinge2"
            class="hinge_joint"
            type="hinge"
            axis="0 1 0"
            range="-3.1416 3.1416"
            damping="0.18"
            armature="0.012"
            frictionloss="0.015"
          />
          <geom name="link2_geom" type="capsule" fromto="0 0 0 0 0 -0.45" size="0.0075" rgba="0.2 0.7 0.25 1" mass="0.75"/>

          <body name="link3" pos="0 0 -0.45">
            <joint
              name="hinge3"
              class="hinge_joint"
              type="hinge"
              axis="0 1 0"
              range="-3.1416 3.1416"
              damping="0.12"
              armature="0.008"
              frictionloss="0.01"
            />
            <geom name="link3_geom" type="capsule" fromto="0 0 0 0 0 -0.35" size="0.006" rgba="0.9 0.75 0.2 1" mass="0.55"/>
            <site name="tip" pos="0 0 -0.35" size="0.01" rgba="0.9 0.1 0.9 1"/>
          </body>
        </body>
      </body>
    </body>
  </worldbody>

  <actuator>
    <motor name="cart_force" joint="slider" gear="380" ctrlrange="-1 1"/>
  </actuator>
</mujoco>
